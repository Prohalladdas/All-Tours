{"id":"g63L","dependencies":[{"name":"D:\\Prohallad\\Coding Folder\\NodeJs\\Node Projects\\4-natours\\package.json","includedInParent":true,"mtime":1761494008431}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.displayMap=void 0,window.scrollTo(0,0);var e=exports.displayMap=function(e){var t=!1;var o=document.getElementById(\"map\"),n=new IntersectionObserver(function(o){o.forEach(function(o){o.isIntersecting&&(!function(){if(!t){t=!0,maptilersdk.config.apiKey=\"bqnVDayZbQFYz3ASB8vW\";var o=new maptilersdk.Map({container:\"map\",style:\"ch-swisstopo-lbm\",scrollZoom:!1}),n=new maptilersdk.LngLatBounds;e.forEach(function(e){var t=document.createElement(\"div\");t.className=\"marker\",new maptilersdk.Marker({element:t,anchor:\"bottom\"}).setLngLat(e.coordinates).addTo(o),new maptilersdk.Popup({offset:30}).setLngLat(e.coordinates).setHTML(\"<p>Day \".concat(e.day,\": \").concat(e.description,\"</p>\")).addTo(o),n.extend(e.coordinates)}),o.on(\"load\",function(){o.fitBounds(n,{padding:{top:200,bottom:150,left:100,right:100}})})}}(),n.disconnect())})},{rootMargin:\"-200px\"});n.observe(o)};"},"sourceMaps":{"js":{"mappings":[{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":0}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":13}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":20}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":35}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":43}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":56}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":57}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":64}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":68}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":76}},{"source":"mapbox.js","original":{"line":107,"column":1},"generated":{"line":1,"column":92}},{"source":"mapbox.js","name":"window","original":{"line":46,"column":0},"generated":{"line":1,"column":94}},{"source":"mapbox.js","name":"scrollTo","original":{"line":46,"column":7},"generated":{"line":1,"column":101}},{"source":"mapbox.js","original":{"line":46,"column":16},"generated":{"line":1,"column":110}},{"source":"mapbox.js","original":{"line":46,"column":19},"generated":{"line":1,"column":112}},{"source":"mapbox.js","original":{"line":48,"column":7},"generated":{"line":1,"column":115}},{"source":"mapbox.js","name":"displayMap","original":{"line":48,"column":13},"generated":{"line":1,"column":119}},{"source":"mapbox.js","name":"exports","original":{"line":48,"column":23},"generated":{"line":1,"column":121}},{"source":"mapbox.js","name":"displayMap","original":{"line":48,"column":23},"generated":{"line":1,"column":129}},{"source":"mapbox.js","original":{"line":48,"column":26},"generated":{"line":1,"column":140}},{"source":"mapbox.js","name":"locations","original":{"line":48,"column":27},"generated":{"line":1,"column":149}},{"source":"mapbox.js","original":{"line":49,"column":2},"generated":{"line":1,"column":152}},{"source":"mapbox.js","name":"mapInitialized","original":{"line":49,"column":6},"generated":{"line":1,"column":156}},{"source":"mapbox.js","original":{"line":49,"column":23},"generated":{"line":1,"column":159}},{"source":"mapbox.js","original":{"line":93,"column":2},"generated":{"line":1,"column":161}},{"source":"mapbox.js","name":"mapElement","original":{"line":93,"column":8},"generated":{"line":1,"column":165}},{"source":"mapbox.js","name":"document","original":{"line":93,"column":21},"generated":{"line":1,"column":167}},{"source":"mapbox.js","name":"getElementById","original":{"line":93,"column":30},"generated":{"line":1,"column":176}},{"source":"mapbox.js","original":{"line":93,"column":45},"generated":{"line":1,"column":191}},{"source":"mapbox.js","name":"observer","original":{"line":94,"column":8},"generated":{"line":1,"column":198}},{"source":"mapbox.js","original":{"line":94,"column":19},"generated":{"line":1,"column":200}},{"source":"mapbox.js","name":"IntersectionObserver","original":{"line":94,"column":23},"generated":{"line":1,"column":204}},{"source":"mapbox.js","original":{"line":95,"column":4},"generated":{"line":1,"column":225}},{"source":"mapbox.js","name":"entries","original":{"line":95,"column":5},"generated":{"line":1,"column":234}},{"source":"mapbox.js","name":"entries","original":{"line":96,"column":6},"generated":{"line":1,"column":237}},{"source":"mapbox.js","name":"forEach","original":{"line":96,"column":14},"generated":{"line":1,"column":239}},{"source":"mapbox.js","original":{"line":96,"column":22},"generated":{"line":1,"column":247}},{"source":"mapbox.js","name":"entry","original":{"line":96,"column":23},"generated":{"line":1,"column":256}},{"source":"mapbox.js","name":"entry","original":{"line":97,"column":12},"generated":{"line":1,"column":259}},{"source":"mapbox.js","name":"isIntersecting","original":{"line":97,"column":18},"generated":{"line":1,"column":261}},{"source":"mapbox.js","original":{"line":51,"column":2},"generated":{"line":1,"column":279}},{"source":"mapbox.js","original":{"line":52,"column":4},"generated":{"line":1,"column":290}},{"source":"mapbox.js","name":"mapInitialized","original":{"line":52,"column":8},"generated":{"line":1,"column":294}},{"source":"mapbox.js","original":{"line":52,"column":4},"generated":{"line":1,"column":296}},{"source":"mapbox.js","name":"mapInitialized","original":{"line":53,"column":4},"generated":{"line":1,"column":297}},{"source":"mapbox.js","original":{"line":53,"column":21},"generated":{"line":1,"column":300}},{"source":"mapbox.js","name":"maptilersdk","original":{"line":55,"column":4},"generated":{"line":1,"column":302}},{"source":"mapbox.js","name":"config","original":{"line":55,"column":16},"generated":{"line":1,"column":314}},{"source":"mapbox.js","name":"apiKey","original":{"line":55,"column":23},"generated":{"line":1,"column":321}},{"source":"mapbox.js","original":{"line":55,"column":32},"generated":{"line":1,"column":328}},{"source":"mapbox.js","original":{"line":56,"column":4},"generated":{"line":1,"column":351}},{"source":"mapbox.js","name":"map","original":{"line":56,"column":10},"generated":{"line":1,"column":355}},{"source":"mapbox.js","original":{"line":56,"column":16},"generated":{"line":1,"column":357}},{"source":"mapbox.js","name":"maptilersdk","original":{"line":56,"column":20},"generated":{"line":1,"column":361}},{"source":"mapbox.js","name":"Map","original":{"line":56,"column":32},"generated":{"line":1,"column":373}},{"source":"mapbox.js","original":{"line":56,"column":36},"generated":{"line":1,"column":377}},{"source":"mapbox.js","name":"container","original":{"line":57,"column":6},"generated":{"line":1,"column":378}},{"source":"mapbox.js","original":{"line":57,"column":17},"generated":{"line":1,"column":388}},{"source":"mapbox.js","name":"style","original":{"line":58,"column":6},"generated":{"line":1,"column":394}},{"source":"mapbox.js","original":{"line":58,"column":13},"generated":{"line":1,"column":400}},{"source":"mapbox.js","name":"scrollZoom","original":{"line":59,"column":6},"generated":{"line":1,"column":419}},{"source":"mapbox.js","original":{"line":59,"column":18},"generated":{"line":1,"column":431}},{"source":"mapbox.js","name":"bounds","original":{"line":62,"column":10},"generated":{"line":1,"column":435}},{"source":"mapbox.js","original":{"line":62,"column":19},"generated":{"line":1,"column":437}},{"source":"mapbox.js","name":"maptilersdk","original":{"line":62,"column":23},"generated":{"line":1,"column":441}},{"source":"mapbox.js","name":"LngLatBounds","original":{"line":62,"column":35},"generated":{"line":1,"column":453}},{"source":"mapbox.js","name":"locations","original":{"line":64,"column":4},"generated":{"line":1,"column":466}},{"source":"mapbox.js","name":"forEach","original":{"line":64,"column":14},"generated":{"line":1,"column":468}},{"source":"mapbox.js","original":{"line":64,"column":22},"generated":{"line":1,"column":476}},{"source":"mapbox.js","name":"loc","original":{"line":64,"column":23},"generated":{"line":1,"column":485}},{"source":"mapbox.js","original":{"line":65,"column":6},"generated":{"line":1,"column":488}},{"source":"mapbox.js","name":"el","original":{"line":65,"column":12},"generated":{"line":1,"column":492}},{"source":"mapbox.js","name":"document","original":{"line":65,"column":17},"generated":{"line":1,"column":494}},{"source":"mapbox.js","name":"createElement","original":{"line":65,"column":26},"generated":{"line":1,"column":503}},{"source":"mapbox.js","original":{"line":65,"column":40},"generated":{"line":1,"column":517}},{"source":"mapbox.js","name":"el","original":{"line":66,"column":6},"generated":{"line":1,"column":524}},{"source":"mapbox.js","name":"className","original":{"line":66,"column":9},"generated":{"line":1,"column":526}},{"source":"mapbox.js","original":{"line":66,"column":21},"generated":{"line":1,"column":536}},{"source":"mapbox.js","original":{"line":68,"column":6},"generated":{"line":1,"column":545}},{"source":"mapbox.js","name":"maptilersdk","original":{"line":68,"column":10},"generated":{"line":1,"column":549}},{"source":"mapbox.js","name":"Marker","original":{"line":68,"column":22},"generated":{"line":1,"column":561}},{"source":"mapbox.js","original":{"line":68,"column":29},"generated":{"line":1,"column":568}},{"source":"mapbox.js","name":"element","original":{"line":69,"column":8},"generated":{"line":1,"column":569}},{"source":"mapbox.js","name":"el","original":{"line":69,"column":17},"generated":{"line":1,"column":577}},{"source":"mapbox.js","name":"anchor","original":{"line":70,"column":8},"generated":{"line":1,"column":579}},{"source":"mapbox.js","original":{"line":70,"column":16},"generated":{"line":1,"column":586}},{"source":"mapbox.js","name":"setLngLat","original":{"line":72,"column":9},"generated":{"line":1,"column":597}},{"source":"mapbox.js","name":"loc","original":{"line":72,"column":19},"generated":{"line":1,"column":607}},{"source":"mapbox.js","name":"coordinates","original":{"line":72,"column":23},"generated":{"line":1,"column":609}},{"source":"mapbox.js","name":"addTo","original":{"line":73,"column":9},"generated":{"line":1,"column":622}},{"source":"mapbox.js","name":"map","original":{"line":73,"column":15},"generated":{"line":1,"column":628}},{"source":"mapbox.js","original":{"line":75,"column":6},"generated":{"line":1,"column":631}},{"source":"mapbox.js","name":"maptilersdk","original":{"line":75,"column":10},"generated":{"line":1,"column":635}},{"source":"mapbox.js","name":"Popup","original":{"line":75,"column":22},"generated":{"line":1,"column":647}},{"source":"mapbox.js","original":{"line":75,"column":28},"generated":{"line":1,"column":653}},{"source":"mapbox.js","name":"offset","original":{"line":76,"column":8},"generated":{"line":1,"column":654}},{"source":"mapbox.js","original":{"line":76,"column":16},"generated":{"line":1,"column":661}},{"source":"mapbox.js","name":"setLngLat","original":{"line":78,"column":9},"generated":{"line":1,"column":666}},{"source":"mapbox.js","name":"loc","original":{"line":78,"column":19},"generated":{"line":1,"column":676}},{"source":"mapbox.js","name":"coordinates","original":{"line":78,"column":23},"generated":{"line":1,"column":678}},{"source":"mapbox.js","name":"setHTML","original":{"line":79,"column":9},"generated":{"line":1,"column":691}},{"source":"mapbox.js","name":"concat","original":{"line":79,"column":16},"generated":{"line":1,"column":699}},{"source":"mapbox.js","name":"concat","original":{"line":79,"column":16},"generated":{"line":1,"column":709}},{"source":"mapbox.js","name":"loc","original":{"line":79,"column":27},"generated":{"line":1,"column":716}},{"source":"mapbox.js","name":"day","original":{"line":79,"column":31},"generated":{"line":1,"column":718}},{"source":"mapbox.js","name":"concat","original":{"line":79,"column":34},"generated":{"line":1,"column":722}},{"source":"mapbox.js","name":"concat","original":{"line":79,"column":34},"generated":{"line":1,"column":728}},{"source":"mapbox.js","name":"loc","original":{"line":79,"column":39},"generated":{"line":1,"column":735}},{"source":"mapbox.js","name":"description","original":{"line":79,"column":43},"generated":{"line":1,"column":737}},{"source":"mapbox.js","original":{"line":79,"column":60},"generated":{"line":1,"column":749}},{"source":"mapbox.js","name":"addTo","original":{"line":80,"column":9},"generated":{"line":1,"column":758}},{"source":"mapbox.js","name":"map","original":{"line":80,"column":15},"generated":{"line":1,"column":764}},{"source":"mapbox.js","name":"bounds","original":{"line":82,"column":6},"generated":{"line":1,"column":767}},{"source":"mapbox.js","name":"extend","original":{"line":82,"column":13},"generated":{"line":1,"column":769}},{"source":"mapbox.js","name":"loc","original":{"line":82,"column":20},"generated":{"line":1,"column":776}},{"source":"mapbox.js","name":"coordinates","original":{"line":82,"column":24},"generated":{"line":1,"column":778}},{"source":"mapbox.js","name":"map","original":{"line":85,"column":4},"generated":{"line":1,"column":793}},{"source":"mapbox.js","name":"on","original":{"line":85,"column":8},"generated":{"line":1,"column":795}},{"source":"mapbox.js","original":{"line":85,"column":11},"generated":{"line":1,"column":798}},{"source":"mapbox.js","original":{"line":85,"column":19},"generated":{"line":1,"column":805}},{"source":"mapbox.js","name":"map","original":{"line":86,"column":6},"generated":{"line":1,"column":816}},{"source":"mapbox.js","name":"fitBounds","original":{"line":86,"column":10},"generated":{"line":1,"column":818}},{"source":"mapbox.js","name":"bounds","original":{"line":86,"column":20},"generated":{"line":1,"column":828}},{"source":"mapbox.js","original":{"line":86,"column":28},"generated":{"line":1,"column":830}},{"source":"mapbox.js","name":"padding","original":{"line":87,"column":8},"generated":{"line":1,"column":831}},{"source":"mapbox.js","original":{"line":87,"column":17},"generated":{"line":1,"column":839}},{"source":"mapbox.js","name":"top","original":{"line":87,"column":19},"generated":{"line":1,"column":840}},{"source":"mapbox.js","original":{"line":87,"column":24},"generated":{"line":1,"column":844}},{"source":"mapbox.js","name":"bottom","original":{"line":87,"column":29},"generated":{"line":1,"column":848}},{"source":"mapbox.js","original":{"line":87,"column":37},"generated":{"line":1,"column":855}},{"source":"mapbox.js","name":"left","original":{"line":87,"column":42},"generated":{"line":1,"column":859}},{"source":"mapbox.js","original":{"line":87,"column":48},"generated":{"line":1,"column":864}},{"source":"mapbox.js","name":"right","original":{"line":87,"column":53},"generated":{"line":1,"column":868}},{"source":"mapbox.js","original":{"line":87,"column":60},"generated":{"line":1,"column":874}},{"source":"mapbox.js","name":"initMap","original":{"line":98,"column":10},"generated":{"line":1,"column":884}},{"source":"mapbox.js","name":"observer","original":{"line":99,"column":10},"generated":{"line":1,"column":887}},{"source":"mapbox.js","name":"disconnect","original":{"line":99,"column":19},"generated":{"line":1,"column":889}},{"source":"mapbox.js","original":{"line":103,"column":4},"generated":{"line":1,"column":906}},{"source":"mapbox.js","name":"rootMargin","original":{"line":103,"column":6},"generated":{"line":1,"column":907}},{"source":"mapbox.js","original":{"line":103,"column":18},"generated":{"line":1,"column":918}},{"source":"mapbox.js","name":"observer","original":{"line":106,"column":2},"generated":{"line":1,"column":929}},{"source":"mapbox.js","name":"observe","original":{"line":106,"column":11},"generated":{"line":1,"column":931}},{"source":"mapbox.js","name":"mapElement","original":{"line":106,"column":19},"generated":{"line":1,"column":939}}],"sources":{"mapbox.js":"// /* eslint-disable */\r\n// const locations = JSON.parse(document.getElementById('map').dataset.locations);\r\n// console.log(locations);\r\n\r\n// maptilersdk.config.apiKey = 'bqnVDayZbQFYz3ASB8vW';\r\n// const map = new maptilersdk.Map({\r\n//   container: 'map',\r\n//   style: 'ch-swisstopo-lbm',\r\n//   scrollZoom: false,\r\n// });\r\n\r\n// const bounds = new maptilersdk.LngLatBounds();\r\n\r\n// locations.forEach((loc) => {\r\n//   // Create marker\r\n//   const el = document.createElement('div');\r\n//   el.className = 'marker';\r\n\r\n//   //   Add marker\r\n//   new maptilersdk.Marker({\r\n//     element: el,\r\n//     anchor: 'bottom',\r\n//   })\r\n//     .setLngLat(loc.coordinates)\r\n//     .addTo(map);\r\n\r\n//   // Add popup\r\n//   new maptilersdk.Popup({\r\n//     offset: 30,\r\n//   })\r\n//     .setLngLat(loc.coordinates)\r\n//     .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n//     .addTo(map);\r\n//   // Extends map bounds to include current location\r\n//   bounds.extend(loc.coordinates);\r\n// });\r\n\r\n// map.on('load', () => {\r\n//   map.fitBounds(bounds, {\r\n//     padding: { top: 200, bottom: 150, left: 100, right: 100 },\r\n//   });\r\n// });\r\n\r\n/* eslint-disable */\r\n// Scroll to top first\r\nwindow.scrollTo(0, 0);\r\n\r\nexport const displayMap = (locations) => {\r\n  let mapInitialized = false;\r\n\r\n  function initMap() {\r\n    if (mapInitialized) return;\r\n    mapInitialized = true;\r\n\r\n    maptilersdk.config.apiKey = 'bqnVDayZbQFYz3ASB8vW';\r\n    const map = new maptilersdk.Map({\r\n      container: 'map',\r\n      style: 'ch-swisstopo-lbm',\r\n      scrollZoom: false,\r\n    });\r\n\r\n    const bounds = new maptilersdk.LngLatBounds();\r\n\r\n    locations.forEach((loc) => {\r\n      const el = document.createElement('div');\r\n      el.className = 'marker';\r\n\r\n      new maptilersdk.Marker({\r\n        element: el,\r\n        anchor: 'bottom',\r\n      })\r\n        .setLngLat(loc.coordinates)\r\n        .addTo(map);\r\n\r\n      new maptilersdk.Popup({\r\n        offset: 30,\r\n      })\r\n        .setLngLat(loc.coordinates)\r\n        .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n        .addTo(map);\r\n\r\n      bounds.extend(loc.coordinates);\r\n    });\r\n\r\n    map.on('load', () => {\r\n      map.fitBounds(bounds, {\r\n        padding: { top: 200, bottom: 150, left: 100, right: 100 },\r\n      });\r\n    });\r\n  }\r\n\r\n  // Initialize map when user scrolls near it\r\n  const mapElement = document.getElementById('map');\r\n  const observer = new IntersectionObserver(\r\n    (entries) => {\r\n      entries.forEach((entry) => {\r\n        if (entry.isIntersecting) {\r\n          initMap();\r\n          observer.disconnect();\r\n        }\r\n      });\r\n    },\r\n    { rootMargin: '-200px' },\r\n  );\r\n\r\n  observer.observe(mapElement);\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"56ac559330131d651b0901571a49d546","cacheData":{"env":{}}}